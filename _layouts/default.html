<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Meta / Basis -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ page.title | default: "SILITUZ" }}</title>
  <meta name="description" content="Startseite von Silituz: KI ‚Ä¢ Musik ‚Ä¢ Visuals." />

  <!-- Theme-Farbe (PWA/Browserleisten) -->
  <meta name="theme-color" content="#059669">
  <meta name="color-scheme" content="light dark">

  <!-- Dark Mode Bootstrapping + Tailwind-Konfig (vor dem CDN!) -->
  <script>
    (function () {
      const ls = localStorage.getItem("theme");
      const sysDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const enableDark = ls === "dark" || (!ls && sysDark);
      if (enableDark) document.documentElement.classList.add("dark");
    })();
    window.tailwind = { config: { darkMode: 'class' } };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Favicons / Manifest -->
  <link rel="icon" href="{{ '/assets/images/favicon.svg' | relative_url }}" type="image/svg+xml">
  <link rel="icon" href="{{ '/assets/images/favicon-32.png' | relative_url }}" sizes="32x32" type="image/png">
  <link rel="icon" href="{{ '/assets/images/favicon-16.png' | relative_url }}" sizes="16x16" type="image/png">
  <link rel="apple-touch-icon" href="{{ '/apple-touch-icon.png' | relative_url }}" sizes="180x180">
  <link rel="mask-icon" href="{{ '/assets/images/favicon.svg' | relative_url }}" color="#059669">
  <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">

  <!-- Font Awesome (f√ºr Footer-Icons) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Zusatzstyles -->
  <style>
    .glass{backdrop-filter:saturate(140%) blur(6px); background:rgba(0,0,0,.35);}
    .brand-card{transition:transform .15s ease, box-shadow .15s ease;}
    .brand-card:hover{transform:translateY(-2px); box-shadow:0 10px 25px rgba(0,0,0,.12);}
    /* Men√º-Links (Side-Men√º) */
    #sideMenu nav a { transition: background-color .25s ease, color .25s ease; }
    #sideMenu nav a:hover { background-color:#059669; color:#fff !important; }
    #sideMenu nav a.active { background-color:#d1fae5; color:#059669 !important; font-weight:600; }
    #themeThumb { transition: transform .22s cubic-bezier(.2,.9,.2,1); }

    /* Footer (Light) */
    .site-footer{background:#fff; color:#333; border-top:1px solid #ddd;}
    .footer-inner{max-width:1200px; margin:0 auto; padding:20px; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px;}
    .footer-left .footer-brand{display:flex; align-items:center; gap:10px; text-decoration:none;}
    .footer-left .logo{height:40px; width:auto;}
    .brand-texts{display:flex; flex-direction:column; line-height:1.2;}
    .brand-title{font-size:1.2rem; font-weight:800; color:#111;}
    .brand-sub{font-size:.85rem; color:#666;}
    .footer-center small{font-size:.9rem; color:#555;}
    .footer-right{display:flex; align-items:center; gap:12px;}
    .footer-right .icon{font-size:22px; color:#888; transition:color .3s ease;}
    .footer-more{transition:background-color .25s ease, color .25s ease, transform .25s ease; color:#374151;}
    .footer-more:hover{background-color:#059669; color:#fff !important; animation:footer-wobble .35s ease-in-out;}
    @keyframes footer-wobble{0%{transform:translateX(0) rotate(0)}25%{transform:translateX(-1.5px) rotate(-1.2deg)}50%{transform:translateX(1.5px) rotate(1.2deg)}75%{transform:translateX(-1px) rotate(-0.6deg)}100%{transform:translateX(0) rotate(0)}}
    @media (prefers-reduced-motion: reduce){.footer-more:hover{animation:none;}}

    /* Dark via .dark */
    .dark .site-footer{background:#0f172a; color:#e5e7eb; border-top-color:#1f2937;}
    .dark .brand-title{color:#e5e7eb;}
    .dark .brand-sub{color:#94a3b8;}
    .dark .footer-center small{color:#cbd5e1;}
  </style>
</head>

<body class="bg-white text-slate-800 dark:bg-slate-900 dark:text-slate-100 antialiased">

<!-- ===== HEADER: Logo links ‚Ä¢ Toggle Mitte ‚Ä¢ Rechts: üêç Men√º-Button ===== -->
<header class="sticky top-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur border-b border-slate-200 dark:border-slate-800">
 <div class="container mx-auto px-4 py-6 grid grid-cols-[1fr_auto_1fr] items-center">
    <!-- Links: Logo (wie im Footer) -->
    <a href="{{ '/' | relative_url }}" class="justify-self-start flex items-center gap-3">
     <img src="{{ '/assets/images/logo.svg' | relative_url }}" alt="Silituz Logo" class="h-12 w-auto">
      <div class="leading-tight">
        <span class="block text-lg font-bold text-slate-900 dark:text-slate-100">SILITUZ</span>
        <span class="block text-xs text-slate-600 dark:text-slate-400">AI ‚Ä¢ Music ‚Ä¢ Visuals</span>
      </div>
    </a>

    <!-- Mitte: Theme-Schieberegler -->
    <div class="justify-self-center">
      <button id="themeSlider"
        class="relative inline-flex items-center select-none"
        type="button" aria-label="Design umschalten" aria-live="polite">
        <!-- Track -->
      <span id="themeTrack" class="relative h-9 w-24 rounded-full bg-slate-200/80 dark:bg-slate-700/80 shadow-inner overflow-hidden select-none">
          <!-- Sonne links -->
          <span class="absolute left-2 top-1/2 -translate-y-1/2 text-xl pointer-events-none">‚òÄÔ∏è</span>
          <!-- Mond rechts -->
          <span class="absolute right-2 top-1/2 -translate-y-1/2 text-xl pointer-events-none">üåô</span>
          <!-- Thumb -->
          <span id="themeThumb"
                class="absolute top-1/2 -translate-y-1/2 h-8 w-11 rounded-full bg-white dark:bg-slate-200 shadow
                       transition-transform duration-300 will-change-transform translate-x-0"></span>
        </span>
      </button>
    </div>

    <!-- Rechts: Men√º-Trigger -->
<div class="justify-self-end">
  <button id="snakeBtn"
    class="inline-flex items-center gap-2 px-4 py-2 rounded-lg text-lg font-semibold text-slate-900 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-800">

    <!-- Animiertes Logo (statt üêç Emoji) -->
    <video autoplay loop muted playsinline class="menu-logo">
      <source src="{{ '/assets/videos/menu-logo.webm' | relative_url }}" type="video/webm">
      <source src="{{ '/assets/videos/menu-logo.mp4' | relative_url }}" type="video/mp4">
      Dein Browser unterst√ºtzt dieses Video-Format nicht.
    </video>

    <span class="hidden sm:inline">Men√º</span>
  </button>
</div>
</div>
</header>



<!-- ===== OVERLAY + SLIDE-IN MENU (von rechts) ===== -->
<div id="sideOverlay" class="fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-300 z-40"></div>

<aside id="sideMenu"
  class="fixed right-0 top-0 h-full w-80 max-w-[86%] bg-white dark:bg-slate-900 shadow-2xl translate-x-full transition-transform duration-300 z-50"
  aria-hidden="true" aria-label="Hauptmen√º">
  <!-- Kopf des Sliders -->
  <div class="h-16 px-4 flex items-center justify-between border-b border-slate-200 dark:border-slate-800">
    <div class="flex items-center gap-2 font-extrabold text-slate-800 dark:text-slate-100">
      <span class="text-xl">üêç</span> <span>SILITUZ</span>
    </div>
    <button id="sideClose" class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" aria-label="Men√º schlie√üen">‚úï</button>
  </div>

  <!-- Men√º-Liste -->
  <nav class="p-4 space-y-1 text-slate-800 dark:text-slate-100">
    {% assign cur = page.url | replace:'index.html','' | replace:'//','/' %}
    {% assign nav_list = "Home:/,√úber mich:/about.html,Galerie:/gallery.html,Generatoren & mehr:/generators.html,Meine Musik:/music.html,Socials:/socials.html,Unterst√ºtzung:/support.html,Kontakt:/contact.html,Impressum:/impressum.html" | split: ',' %}
    {% for i in nav_list %}
      {% assign p = i | split: ':' %}
      {% assign title = p[0] %}
      {% assign href  = p[1] %}
      <a href="{{ href | relative_url }}"
         class="flex items-center justify-between gap-3 px-3 py-2 rounded-lg transition
                {% if cur == href %} bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200 font-semibold {% else %} hover:bg-slate-100 dark:hover:bg-slate-800 {% endif %}">
        <span>{{ title }}</span>
        <span class="opacity-60">‚Ä∫</span>
      </a>
    {% endfor %}
  </nav>

  <!-- Optional: kleine Social-Leiste unten -->
  <div class="mt-auto p-4 border-t border-slate-200 dark:border-slate-800">
    <div class="flex items-center justify-center gap-5 text-slate-600 dark:text-slate-300">
      <a href="https://www.tiktok.com/@silituz" target="_blank" rel="noopener" class="hover:text-emerald-500" aria-label="TikTok"><i class="fab fa-tiktok text-lg"></i></a>
      <a href="https://www.youtube.com/@silituz" target="_blank" rel="noopener" class="hover:text-emerald-500" aria-label="YouTube"><i class="fab fa-youtube text-lg"></i></a>
      <a href="https://www.instagram.com/silituz" target="_blank" rel="noopener" class="hover:text-emerald-500" aria-label="Instagram"><i class="fab fa-instagram text-lg"></i></a>
      <a href="https://open.spotify.com/artist/0l3OqhrDQ7No2fPCIP0i5h" target="_blank" rel="noopener" class="hover:text-emerald-500" aria-label="Spotify"><i class="fab fa-spotify text-lg"></i></a>
      <a href="https://music.apple.com/de/artist/silituz/1815637787"
   target="_blank" rel="noopener"
   class="hover:text-emerald-500" aria-label="Apple Music" title="Apple Music">
  <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
       <path d="M16 5v9.6a3.3 3.3 0 1 1-1.5-2.8V7.2l-7 1.6v8.8a3.3 3.3 0 1 1-1.5-2.8V6L16 5z" fill="currentColor"/>
  </svg>
</a>
    </div>
  </div>
</aside>

<!-- ===== JS: √ñffnen/Schlie√üen + Body-Scroll sperren ===== -->
<script>
  const snakeBtn    = document.getElementById('snakeBtn');
  const sideMenu    = document.getElementById('sideMenu');
  const sideOverlay = document.getElementById('sideOverlay');
  const sideClose   = document.getElementById('sideClose');

  function openMenu(){
    sideMenu.classList.remove('translate-x-full');
    sideOverlay.classList.remove('pointer-events-none');
    requestAnimationFrame(()=>{ sideOverlay.classList.add('opacity-100'); sideOverlay.classList.remove('opacity-0'); });
    document.body.classList.add('overflow-hidden');
    snakeBtn?.setAttribute('aria-expanded','true');
    sideMenu.setAttribute('aria-hidden','false');
  }

  function closeMenu(){
    sideMenu.classList.add('translate-x-full');
    sideOverlay.classList.add('pointer-events-none');
    sideOverlay.classList.remove('opacity-100');
    sideOverlay.classList.add('opacity-0');
    document.body.classList.remove('overflow-hidden');
    snakeBtn?.setAttribute('aria-expanded','false');
    sideMenu.setAttribute('aria-hidden','true');
  }

  function toggleMenu(){
    const isClosed = sideMenu.classList.contains('translate-x-full');
    isClosed ? openMenu() : closeMenu();
  }

  // Klicks
  snakeBtn?.addEventListener('click', toggleMenu);  // <‚Äî jetzt Toggle
  sideClose?.addEventListener('click', closeMenu);
  sideOverlay?.addEventListener('click', closeMenu);

  // ESC schlie√üt
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });
</script>
  
<!-- THEME SLIDER JS -->
<script>
  // === Init: respektiere gespeichertes Theme, Default = dark ===
  (function () {
    const ls = localStorage.getItem("theme");
    const root = document.documentElement;
    if (!ls) {
      root.classList.add("dark");
      localStorage.setItem("theme", "dark");
    } else {
      root.classList.toggle("dark", ls === "dark");
    }
  })();

  const themeBtn   = document.getElementById('themeSlider');
  // Robust: nimm #themeTrack, sonst fallback auf das erste <span> im Button
  const themeTrack = document.getElementById('themeTrack') || themeBtn?.querySelector(':scope > span');
  const themeThumb = document.getElementById('themeThumb');

  // Feste Positionen passend zu w-24 (‚âà 6rem) und w-11 (‚âà 2.75rem)
  const POS_LEFT  = 'translate(0rem, -50%)';    // ‚òÄÔ∏è => LIGHT
  const POS_RIGHT = 'translate(3.5rem, -50%)';  // üåô => DARK

  function applyThumbPosition() {
    if (!themeThumb) return;
    const isDark = document.documentElement.classList.contains('dark');
    themeThumb.style.transform = isDark ? POS_RIGHT : POS_LEFT;
    themeBtn?.setAttribute('aria-pressed', isDark ? 'true' : 'false');
    themeBtn?.setAttribute('aria-label', isDark ? 'Dunkles Design aktiv' : 'Helles Design aktiv');
  }

  function setTheme(isDark) {
    const root = document.documentElement;
    root.classList.toggle('dark', isDark);
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    applyThumbPosition();
  }

  // W√§hle strikt anhand der Klick-Position auf dem TRACK (links = LIGHT, rechts = DARK)
  function chooseByX(clientX) {
    if (!themeTrack) return;
    const r = themeTrack.getBoundingClientRect();
    const x = clientX - r.left;
    const goRight = x > r.width / 2;
    setTheme(goRight); // rechts => DARK
  }

  // Klick exakt auf den Track verwenden (kein Toggle!)
  themeTrack?.addEventListener('click', (e) => {
    e.stopPropagation();
    chooseByX(e.clientX);
  });

  // Falls jemand genau auf den Button (aber nicht Track) klickt: auch Position nehmen
  themeBtn?.addEventListener('click', (e) => {
    // Wenn das Event vom Track kam, hat es bereits gestoppt
    chooseByX(e.clientX);
  });

  // Drag mit Live-Vorschau
  let dragging = false;

  function onDown(e) { dragging = true; }
  function onMove(e) {
    if (!dragging || !themeTrack || !themeThumb) return;
    const clientX = (e.touches?.[0]?.clientX ?? e.clientX);
    const r = themeTrack.getBoundingClientRect();
    const x = Math.max(0, Math.min(r.width, clientX - r.left));
    const goRight = x > r.width / 2;
    themeThumb.style.transform = goRight ? POS_RIGHT : POS_LEFT; // Vorschau
  }
  function onUp(e) {
    if (!dragging) return;
    dragging = false;
    const clientX = (e.changedTouches?.[0]?.clientX ?? e.clientX);
    chooseByX(clientX);
  }

  themeTrack?.addEventListener('mousedown', onDown);
  window.addEventListener('mousemove', onMove);
  window.addEventListener('mouseup', onUp);

  themeTrack?.addEventListener('touchstart', onDown, { passive: true });
  window.addEventListener('touchmove', onMove, { passive: true });
  window.addEventListener('touchend', onUp);

  // Startposition korrekt setzen
  applyThumbPosition();
</script>



  <!-- Seiteninhalt -->
  <main id="content">
    {{ content }}
  </main>

  <!-- FOOTER -->
  <footer class="site-footer bg-white text-slate-800 border-t border-slate-200 dark:bg-slate-900 dark:text-slate-100 dark:border-slate-700">
    <div class="footer-inner container mx-auto flex items-center justify-between gap-4 py-6 px-4">
      <div class="footer-left">
        <a href="{{ '/' | relative_url }}" class="footer-brand flex items-center gap-3">
          <img src="{{ '/assets/images/logo.svg' | relative_url }}" alt="Silituz Logo" class="logo h-8 w-auto">
          <div class="brand-texts leading-tight">
            <span class="brand-title block text-lg font-bold text-slate-900 dark:text-slate-100">SILITUZ</span>
            <span class="brand-sub block text-xs text-slate-600 dark:text-slate-400">AI ‚Ä¢ Music ‚Ä¢ Visuals</span>
          </div>
        </a>
      </div>

      <div class="footer-center">
        <small class="text-sm text-slate-600 dark:text-slate-400">¬© <span id="y"></span> Silituz ‚Äì Alle Rechte vorbehalten</small>
      </div>

      <nav class="footer-right flex items-center gap-3" aria-label="Social Media">
        <a class="icon tiktok text-slate-600 hover:text-emerald-500 dark:text-slate-300 transition" href="https://www.tiktok.com/@silituz" target="_blank" rel="noopener" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
        <a class="icon youtube text-slate-600 hover:text-emerald-500 dark:text-slate-300 transition" href="https://www.youtube.com/@silituz" target="_blank" rel="noopener" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        <a class="icon instagram text-slate-600 hover:text-emerald-500 dark:text-slate-300 transition" href="https://www.instagram.com/silituz" target="_blank" rel="noopener" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a class="icon spotify text-slate-600 hover:text-emerald-500 dark:text-slate-300 transition" href="https://open.spotify.com/artist/0l3OqhrDQ7No2fPCIP0i5h" target="_blank" rel="noopener" aria-label="Spotify"><i class="fab fa-spotify"></i></a>
        <a class="icon apple text-slate-600 hover:text-emerald-500 dark:text-slate-300 transition" href="https://music.apple.com/de/artist/silituz/1815637787" target="_blank" rel="noopener" aria-label="Apple Music">
          <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M16 3v11.6a3.3 3.3 0 1 1-1.5-2.8V7.2l-7 1.6v8.8a3.3 3.3 0 1 1-1.5-2.8V6L16 3z"/></svg>
        </a>
        <a class="more footer-more text-sm font-semibold px-3 py-1.5 rounded-lg bg-transparent text-slate-900 dark:text-slate-100 hover:bg-emerald-500 hover:text-white transition" href="{{ '/socials.html' | relative_url }}">Mehr</a>
      </nav>
    </div>
  </footer>
 </body>
</html>
